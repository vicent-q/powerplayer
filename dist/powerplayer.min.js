function currentScriptUrl(){var a=document.getElementsByTagName("script"),b=a.length?a[a.length-1].src:"",c=b.indexOf("?");return c>0&&(b=b.substring(0,c)),b}if("undefined"==typeof powerplayer){var baseUrl=currentScriptUrl().replace(/\/[^\/]+$/,""),powerplayer=function(a){if(powerplayer.api)return powerplayer.api.selectPlayer(a)},$pw=powerplayer;powerplayer.version="6.0.24e",powerplayer.vid=document.createElement("video"),powerplayer.audio=document.createElement("audio"),powerplayer.source=document.createElement("source"),powerplayer.baseUrl=baseUrl,function(a){function b(b){if(a.utils.exists(b)){var c=b.indexOf("://"),d=b.indexOf("?");return c>0&&(d<0||d>c)}}a.utils=function(){},a.utils.typeOf=function(a){var b=typeof a;return"object"===b&&(a?a instanceof Array&&(b="array"):b="null"),b},a.utils.extend=function(){var b=a.utils.extend.arguments;if(b.length>1){for(var c=1;c<b.length;c++)for(var d in b[c])b[0][d]=b[c][d];return b[0]}return null},a.utils.clone=function(b){var c,d=a.utils.clone.arguments;if(1==d.length)switch(a.utils.typeOf(d[0])){case"object":c={};for(var e in d[0])c[e]=a.utils.clone(d[0][e]);break;case"array":c=[];for(var e in d[0])c[e]=a.utils.clone(d[0][e]);break;default:return d[0]}return c},a.utils.extension=function(a){return a?(a=a.substring(a.lastIndexOf("/")+1,a.length),a=a.split("?")[0],a.lastIndexOf(".")>-1?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0):""},a.utils.html=function(a,b){a.innerHTML=b},a.utils.wrap=function(a,b){a.parentNode&&a.parentNode.replaceChild(b,a),b.appendChild(a)},a.utils.ajax=function(b,c,d,e){var f,g;f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status){if(c)if("xml"===e)try{if(!a.utils.exists(f.responseXML))if(window.DOMParser){var h=(new DOMParser).parseFromString(f.responseText,"text/xml");h&&(f=a.utils.extend({},f,{responseXML:h}))}else h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(f.responseText),f=a.utils.extend({},f,{responseXML:h});c(f)}catch(i){d&&d(b)}else{if("json"!==e)return void c(f);try{g=JSON.parse(f.responseText),c(g)}catch(i){if(d)return void d(b)}}}else d&&d(b)};try{f.open("GET",b,!0),f.send(null)}catch(h){d&&d(b)}return f},a.utils.jsonp=function(a,b){setTimeout(function(){var c=document.getElementsByTagName("head")[0]||document.documentElement,d=document.createElement("script");d.src=a+"&callback="+b+"&r="+1e7*Math.random(),c.insertBefore(d,c.firstChild),d.onload=d.onreadystatechange=function(){this.readyState&&!/loaded|complete/.test(d.readyState)||(d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d))}},0)},a.utils.load=function(a,b,c){a.onreadystatechange=function(){4===a.readyState&&(200===a.status?b&&b():c&&c())}},a.utils.find=function(a,b){return a.getElementsByTagName(b)},a.utils.append=function(a,b){a.appendChild(b)},a.utils.userAgentMatch=function(a){var b=navigator.userAgent.toLowerCase();return null!==b.match(a)},a.utils.isEdge=function(){return a.utils.userAgentMatch(/\sEdge\/\d+/i)},a.utils.isIETrident=function(b){return b?(b=parseFloat(b).toFixed(1),a.utils.userAgentMatch(new RegExp("trident/.+rv:\\s*"+b,"i"))):a.utils.userAgentMatch(/trident/i)},a.utils.isMSIE=function(b){return b?(b=parseFloat(b).toFixed(1),a.utils.userAgentMatch(new RegExp("msie\\s*"+b,"i"))):a.utils.userAgentMatch(/msie/i)},a.utils.isIE=function(b){return b?(b=parseFloat(b).toFixed(1),b>=11?a.utils.isIETrident(b):a.utils.isMSIE(b)):a.utils.isEdge()||a.utils.isMSIE()||a.utils.isIETrident()},a.utils.getIEVersion=function(){var a=navigator.userAgent,b=0;return a&&(a.match(/MSIE\s+([\d]+)\./i)?b=RegExp.$1:a.match(/Trident.*rv\s*:\s*([\d]+)\./i)&&(b=RegExp.$1)),parseInt(b)},a.utils.isIOS=function(){return a.utils.userAgentMatch(/iP(hone|ad|od)/i)},a.utils.isIPad=function(){return a.utils.userAgentMatch(/iPad/i)},a.utils.isIPod=function(){return a.utils.userAgentMatch(/iP(hone|od)/i)},a.utils.isAndroid=function(){return a.utils.userAgentMatch(/android/i)},a.utils.isChrome=function(){return a.utils.userAgentMatch(/Chrome/i)},a.utils.isFirefox=function(){return a.utils.userAgentMatch(/Firefox/i)},a.utils.isLegacyAndroid=function(){return a.utils.userAgentMatch(/android 2.[012]/i)},a.utils.isBlackberry=function(){return a.utils.userAgentMatch(/blackberry/i)},a.utils.isMobile=function(){return a.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)},a.utils.getFirstPlaylistItemFromConfig=function(a){var b,c={};return b=a.playlist&&a.playlist.length?a.playlist[0]:a,c.file=b.file,c.levels=b.levels,c.streamer=b.streamer,c.playlistfile=b.playlistfile,c.provider=b.provider,c.provider||(c.file&&(c.file.toLowerCase().indexOf("youtube.com")>-1||c.file.toLowerCase().indexOf("youtu.be")>-1)&&(c.provider="youtube"),c.streamer&&0==c.streamer.toLowerCase().indexOf("rtmp://")&&(c.provider="rtmp"),b.type&&(c.provider=b.type.toLowerCase())),"audio"==c.provider&&(c.provider="sound"),c},a.utils.getOuterHTML=function(a){if(a.outerHTML)return a.outerHTML;try{return(new XMLSerializer).serializeToString(a)}catch(b){return""}},a.utils.setOuterHTML=function(a,b){if(a.outerHTML)a.outerHTML=b;else{var c=document.createElement("div");c.innerHTML=b;var d=document.createRange();d.selectNodeContents(c);var e=d.extractContents();a.parentNode.insertBefore(e,a),a.parentNode.removeChild(a)}},a.utils.hasFlash=function(){if("undefined"!=typeof navigator.plugins&&"undefined"!=typeof navigator.plugins["Shockwave Flash"])return!0;if("undefined"!=typeof window.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(a){}return!1},a.utils.getPluginName=function(a){return a.lastIndexOf("/")>=0&&(a=a.substring(a.lastIndexOf("/")+1,a.length)),a.lastIndexOf("-")>=0&&(a=a.substring(0,a.lastIndexOf("-"))),a.lastIndexOf(".swf")>=0&&(a=a.substring(0,a.lastIndexOf(".swf"))),a.lastIndexOf(".js")>=0&&(a=a.substring(0,a.lastIndexOf(".js"))),a},a.utils.getPluginVersion=function(a){return a.lastIndexOf("-")>=0?a.lastIndexOf(".js")>=0?a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js")):a.lastIndexOf(".swf")>=0?a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf")):a.substring(a.lastIndexOf("-")+1):""},a.utils.getAbsolutePath=function(c,d){if(a.utils.exists(d)||(d=document.location.href),a.utils.exists(c)){if(b(c))return c;var e,f=d.substring(0,d.indexOf("://")+3),g=d.substring(f.length,d.indexOf("/",f.length+1));if(0===c.indexOf("/"))e=c.split("/");else{var h=d.split("?")[0];h=h.substring(f.length+g.length+1,h.lastIndexOf("/")),e=h.split("/").concat(c.split("/"))}for(var i=[],j=0;j<e.length;j++)e[j]&&a.utils.exists(e[j])&&"."!=e[j]&&(".."==e[j]?i.pop():i.push(e[j]));return f+g+"/"+i.join("/")}},a.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"},a.utils.getPluginPathType=function(b){if("string"==typeof b){b=b.split("?")[0];var c=b.indexOf("://");if(c>0)return a.utils.pluginPathType.ABSOLUTE;var d=b.indexOf("/"),e=a.utils.extension(b);return!(c<0&&d<0)||e&&isNaN(e)?a.utils.pluginPathType.RELATIVE:a.utils.pluginPathType.CDN}},a.utils.mapEmpty=function(a){for(var b in a)return!1;return!0},a.utils.mapLength=function(a){var b=0;for(var c in a)b++;return b},a.utils.log=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.log&&(b?console.log(a,b):console.log(a))},a.utils.css=function(b,c,d){if(a.utils.exists(b))for(var e in c)try{if("undefined"==typeof c[e])continue;if("number"==typeof c[e]&&"zIndex"!=e&&"opacity"!=e){if(isNaN(c[e]))continue;e.match(/color/i)?c[e]="#"+a.utils.strings.pad(c[e].toString(16),6):c[e]=Math.ceil(c[e])+"px"}b.style[e]=c[e]}catch(f){}},a.utils.isYouTube=function(a){return a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1},a.utils.transform=function(b,c,d,e,f){if(a.utils.exists(c)||(c=1),a.utils.exists(d)||(d=1),a.utils.exists(e)||(e=0),a.utils.exists(f)||(f=0),1==c&&1==d&&0==e&&0==f)b.style.webkitTransform="",b.style.MozTransform="",b.style.OTransform="";else{var g="scale("+c+","+d+") translate("+e+"px,"+f+"px)";b.style.webkitTransform=g,b.style.MozTransform=g,b.style.OTransform=g}},a.utils.stretch=function(b,c,d,e,f,g){if("undefined"!=typeof d&&"undefined"!=typeof e&&"undefined"!=typeof f&&"undefined"!=typeof g){var h=d/f,i=e/g,j=!1,k={};switch(c.parentElement&&(c.parentElement.style.overflow="hidden"),a.utils.transform(c),b.toUpperCase()){case a.utils.stretching.NONE:k.width=f,k.height=g,k.top=(e-k.height)/2,k.left=(d-k.width)/2;break;case a.utils.stretching.UNIFORM:h>i?(k.width=f*i,k.height=g*i,k.width/d>.95&&(j=!0,h=Math.ceil(100*d/k.width)/100,i=1,k.width=d)):(k.width=f*h,k.height=g*h,k.height/e>.95&&(j=!0,h=1,i=Math.ceil(100*e/k.height)/100,k.height=e)),k.top=(e-k.height)/2,k.left=(d-k.width)/2;break;case a.utils.stretching.FILL:h>i?(k.width=f*h,k.height=g*h):(k.width=f*i,k.height=g*i),k.top=(e-k.height)/2,k.left=(d-k.width)/2;break;case a.utils.stretching.EXACTFIT:k.width=f,k.height=g;var l=Math.round(f/2*(1-1/h)),m=Math.round(g/2*(1-1/i));j=!0,k.top=k.left=0}j&&a.utils.transform(c,h,i,l,m),a.utils.css(c,k)}},a.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"},a.utils.deepReplaceKeyName=function(b,c,d){switch(a.utils.typeOf(b)){case"array":for(var e=0;e<b.length;e++)b[e]=a.utils.deepReplaceKeyName(b[e],c,d);break;case"object":for(var f in b){var g,h;if(c instanceof Array&&d instanceof Array){if(c.length!=d.length)continue;g=c,h=d}else g=[c],h=[d];for(var i=f,e=0;e<g.length;e++)i=i.replace(new RegExp(c[e],"g"),d[e]);b[i]=a.utils.deepReplaceKeyName(b[f],c,d),f!=i&&delete b[f]}}return b},a.utils.isInArray=function(a,b){if(!(a&&a instanceof Array))return!1;for(var c=0;c<a.length;c++)if(b===a[c])return!0;return!1},a.utils.exists=function(a){switch(typeof a){case"string":return a.length>0;case"object":return null!==a;case"undefined":return!1}return!0},a.utils.empty=function(a){if("function"==typeof a.hasChildNodes)for(;a.hasChildNodes();)a.removeChild(a.firstChild)},a.utils.parseDimension=function(a){return"string"==typeof a?""===a?0:a.lastIndexOf("%")>-1?a:parseInt(a.replace("px",""),10):a},a.utils.getDimensions=function(b){return b&&b.style?{x:a.utils.parseDimension(b.style.left),y:a.utils.parseDimension(b.style.top),width:a.utils.parseDimension(b.style.width),height:a.utils.parseDimension(b.style.height)}:{}},a.utils.getElementWidth=function(b){return b?b==document.body?a.utils.parentNode(b).clientWidth:b.clientWidth>0?b.clientWidth:b.style?a.utils.parseDimension(b.style.width):null:null},a.utils.getElementHeight=function(b){return b?b==document.body?a.utils.parentNode(b).clientHeight:b.clientHeight>0?b.clientHeight:b.style?a.utils.parseDimension(b.style.height):null:null},a.utils.timeFormat=function(a){return str="00:00",a>0&&(str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":",str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60)),str},a.utils.useNativeFullscreen=function(){return navigator&&navigator.vendor&&0==navigator.vendor.indexOf("Apple")},a.utils.parentNode=function(a){return a?a.parentNode?a.parentNode:a.parentElement?a.parentElement:a:document.body},a.utils.getBoundingClientRect=function(a){return"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{left:a.offsetLeft+document.body.scrollLeft,top:a.offsetTop+document.body.scrollTop,width:a.offsetWidth,height:a.offsetHeight}},a.utils.translateEventResponse=function(b,c){var d=a.utils.extend({},c);b!=a.api.events.POWERPLAYER_FULLSCREEN||d.fullscreen?"object"==typeof d.data?(d=a.utils.extend(d,d.data),delete d.data):"object"==typeof d.metadata&&a.utils.deepReplaceKeyName(d.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"]):(d.fullscreen="true"==d.message,delete d.message);var e=["position","duration","offset"];for(var f in e)d[e[f]]&&(d[e[f]]=Math.round(1e3*d[e[f]])/1e3);return d},a.utils.saveCookie=function(a,b){document.cookie="powerplayer."+a+"="+b+"; path=/"},a.utils.getCookies=function(){for(var a={},b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("=");0==d[0].indexOf("powerplayer.")&&(a[d[0].substring(9,d[0].length)]=d[1])}return a},a.utils.readCookie=function(b){return a.utils.getCookies()[b]}}(powerplayer),function(a){var b={};a.utils.animations=function(){},a.utils.animations.transform=function(a,b){a.style.webkitTransform=b,a.style.MozTransform=b,a.style.OTransform=b,a.style.msTransform=b},a.utils.animations.transformOrigin=function(a,b){a.style.webkitTransformOrigin=b,a.style.MozTransformOrigin=b,a.style.OTransformOrigin=b,a.style.msTransformOrigin=b},a.utils.animations.rotate=function(b,c){a.utils.animations.transform(b,["rotate(",c,"deg)"].join(""))},a.utils.cancelAnimation=function(a){delete b[a.id]},a.utils.fadeTo=function(c,d,e,f,g,h){if((b[c.id]==h||!a.utils.exists(h))&&c.style.opacity!=d){var i=(new Date).getTime();if(h>i&&setTimeout(function(){a.utils.fadeTo(c,d,e,f,0,h)},h-i),"none"==c.style.display&&(c.style.display="block"),a.utils.exists(f)||(f=""===c.style.opacity?1:c.style.opacity),c.style.opacity==d&&""!==c.style.opacity&&a.utils.exists(h))return void(0===d&&(c.style.display="none"));a.utils.exists(h)||(h=i,b[c.id]=h),a.utils.exists(g)||(g=0);var j=e>0?(i-h)/(1e3*e):0;j=j>1?1:j;var k=d-f,l=f+j*k;return l>1?l=1:l<0&&(l=0),c.style.opacity=l,g>0?(b[c.id]=h+1e3*g,void a.utils.fadeTo(c,d,e,f,0,b[c.id])):void setTimeout(function(){a.utils.fadeTo(c,d,e,f,0,h)},10)}}}(powerplayer),function(a){a.utils.arrays=function(){},a.utils.arrays.indexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1},a.utils.arrays.remove=function(b,c){var d=a.utils.arrays.indexOf(b,c);d>-1&&b.splice(d,1)}}(powerplayer),function(a){a.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{html5:"video/flv",flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl",flash:"video"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}}(powerplayer),function(a){a.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"},a.utils.linkloader=function(b){var c=a.utils.loaderstatus.NEW,d=new a.events.eventdispatcher;a.utils.extend(this,d),this.load=function(){if(c==a.utils.loaderstatus.NEW){c=a.utils.loaderstatus.LOADING;var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.onload=function(b){c=a.utils.loaderstatus.COMPLETE,d.sendEvent(a.events.COMPLETE)},e.onerror=function(b){c=a.utils.loaderstatus.ERROR,d.sendEvent(a.events.ERROR)},e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(c=a.utils.loaderstatus.COMPLETE,d.sendEvent(a.events.COMPLETE))},document.getElementsByTagName("head")[0].appendChild(e),e.href=b}},this.getStatus=function(){return c}}}(powerplayer),function(a){function b(b,c){return a.utils.exists(c)?a.utils.extend(c,g[b]):c=g[b],c}function c(c,d){if(h[c.tagName.toLowerCase()]&&!a.utils.exists(d))return h[c.tagName.toLowerCase()](c);d=b("element",d);var e={};for(var f in d)if("length"!=f){var g=c.getAttribute(f);a.utils.exists(g)&&(e[d[f]]=g)}var i=c.style["#background-color"];return i&&"transparent"!=i&&"rgba(0, 0, 0, 0)"!=i&&(e.screencolor=i),e}function d(d,f){f=b("media",f);var g=[],h=a.utils.selectors("source",d);for(var i in h)isNaN(i)||g.push(e(h[i]));var j=c(d,f);return a.utils.exists(j.file)&&(g[0]={file:j.file}),j.levels=g,j}function e(a,d){d=b("source",d);var e=c(a,d);return e.width=e.width?e.width:0,e.bitrate=e.bitrate?e.bitrate:0,e}function f(a,c){c=b("video",c);var e=d(a,c);return e}a.utils.mediaparser=function(){};var g={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-pw-width":"width","data-pw-bitrate":"bitrate"},video:{poster:"image"}},h={};a.utils.mediaparser.parseMedia=function(a){return c(a)},h.media=d,h.audio=d,h.source=e,h.video=f}(powerplayer),function(a){a.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"},a.utils.scriptloader=function(b){var c=a.utils.loaderstatus.NEW,d=new a.events.eventdispatcher;a.utils.extend(this,d),this.load=function(){if(c==a.utils.loaderstatus.NEW){c=a.utils.loaderstatus.LOADING;var e=document.createElement("script");e.onload=function(b){c=a.utils.loaderstatus.COMPLETE,d.sendEvent(a.events.COMPLETE)},e.onerror=function(b){c=a.utils.loaderstatus.ERROR,d.sendEvent(a.events.ERROR)},e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(c=a.utils.loaderstatus.COMPLETE,d.sendEvent(a.events.COMPLETE))},document.getElementsByTagName("head")[0].appendChild(e),e.src=b}},this.getStatus=function(){return c}}}(powerplayer),function(a){a.utils.selectors=function(b,c){a.utils.exists(c)||(c=document),b=a.utils.strings.trim(b);var d=b.charAt(0);if("#"==d)return c.getElementById(b.substr(1));if("."==d)return c.getElementsByClassName?c.getElementsByClassName(b.substr(1)):a.utils.selectors.getElementsByTagAndClass("*",b.substr(1));if(b.indexOf(".")>0){var e=b.split(".");return a.utils.selectors.getElementsByTagAndClass(e[0],e[1])}return c.getElementsByTagName(b)},a.utils.selectors.getElementsByTagAndClass=function(b,c,d){var e=[];a.utils.exists(d)||(d=document);for(var f=d.getElementsByTagName(b),g=0;g<f.length;g++)if(a.utils.exists(f[g].className))for(var h=f[g].className.split(" "),i=0;i<h.length;i++)h[i]==c&&e.push(f[g]);return e}}(powerplayer),function(a){a.utils.strings=function(){},a.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},a.utils.strings.pad=function(a,b,c){for(c||(c="0");a.length<b;)a=c+a;return a},a.utils.strings.serialize=function(a){return null==a?null:"true"==a||"false"!=a&&(isNaN(Number(a))||a.length>5||0==a.length?a:Number(a))},a.utils.strings.seconds=function(a){a=a.replace(",",".");var b=a.split(":"),c=0;return"s"==a.substr(-1)?c=Number(a.substr(0,a.length-1)):"m"==a.substr(-1)?c=60*Number(a.substr(0,a.length-1)):"h"==a.substr(-1)?c=3600*Number(a.substr(0,a.length-1)):b.length>1?(c=Number(b[b.length-1]),c+=60*Number(b[b.length-2]),3==b.length&&(c+=3600*Number(b[b.length-3]))):c=Number(a),c},a.utils.strings.xmlAttribute=function(a,b){for(var c=0;c<a.attributes.length;c++)if(a.attributes[c].name&&a.attributes[c].name.toLowerCase()==b.toLowerCase())return a.attributes[c].value.toString();return""},a.utils.strings.jsonToString=function(b){var c=c||{};if(c&&c.stringify)return c.stringify(b);var d=typeof b;if("object"==d&&null!==b){var e=[],f=b&&b.constructor==Array;for(var g in b){var h=b[g];switch(typeof h){case"string":h='"'+h.replace(/"/g,'\\"')+'"';break;case"object":a.utils.exists(h)&&(h=a.utils.strings.jsonToString(h))}f?"function"!=typeof h&&e.push(String(h)):"function"!=typeof h&&e.push('"'+g+'":'+String(h))}return f?"["+String(e)+"]":"{"+String(e)+"}"}return"string"!=d?String(b):void(b='"'+b.replace(/"/g,'\\"')+'"')}}(powerplayer),function(a){function b(a){var b=["true","false","t","f"];return b.toString().indexOf(a.toLowerCase().replace(" ",""))>=0?"boolean":e.test(a)?"color":isNaN(parseInt(a,10))||parseInt(a,10).toString().length!=a.length?isNaN(parseFloat(a))||parseFloat(a).toString().length!=a.length?"string":"float":"integer"}function c(b,c){if(!a.utils.exists(c))return b;switch(c){case"color":return b.length>0?d(b):null;case"integer":return parseInt(b,10);case"float":return parseFloat(b);case"boolean":return"true"==b.toLowerCase()||"1"==b}return b}function d(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:return a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)}return parseInt("000000",16)}var e=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);a.utils.typechecker=function(d,e){return e=a.utils.exists(e)?e:b(d),c(d,e)}}(powerplayer),function(a){a.events=function(){},a.events.COMPLETE="COMPLETE",a.events.ERROR="ERROR"}(powerplayer),function(powerplayer){powerplayer.events.eventdispatcher=function(debug){var _debug=debug,_listeners,_globallisteners;this.resetEventListeners=function(){_listeners={},_globallisteners=[]},this.resetEventListeners(),this.addEventListener=function(type,listener,count){try{powerplayer.utils.exists(_listeners[type])||(_listeners[type]=[]),"string"==typeof listener&&eval("listener = "+listener),_listeners[type].push({listener:listener,count:count})}catch(err){powerplayer.utils.log("error",err)}return!1},this.removeEventListener=function(a,b){if(_listeners[a]){try{for(var c=0;c<_listeners[a].length;c++)if(_listeners[a][c].listener.toString()==b.toString()){_listeners[a].splice(c,1);break}}catch(d){powerplayer.utils.log("error",d)}return!1}},this.addGlobalListener=function(listener,count){try{"string"==typeof listener&&eval("listener = "+listener),_globallisteners.push({listener:listener,count:count})}catch(err){powerplayer.utils.log("error",err)}return!1},this.removeGlobalListener=function(a){if(a){try{for(var b=0;b<_globallisteners.length;b++)if(_globallisteners[b].listener.toString()==a.toString()){_globallisteners.splice(b,1);break}}catch(c){powerplayer.utils.log("error",c)}return!1}},this.sendEvent=function(a,b){if(powerplayer.utils.exists(b)||(b={}),_debug&&powerplayer.utils.log(a,b),"undefined"!=typeof _listeners[a])for(var c=0;c<_listeners[a].length;c++){try{_listeners[a][c].listener(b)}catch(d){powerplayer.utils.log("There was an error while handling a listener: "+d.toString(),_listeners[a][c].listener)}_listeners[a][c]&&(1===_listeners[a][c].count?delete _listeners[a][c]:_listeners[a][c].count>0&&(_listeners[a][c].count=_listeners[a][c].count-1))}for(var e=0;e<_globallisteners.length;e++){try{_globallisteners[e].listener(b)}catch(d){powerplayer.utils.log("There was an error while handling a listener: "+d.toString(),_globallisteners[e].listener)}_globallisteners[e]&&(1===_globallisteners[e].count?delete _globallisteners[e]:_globallisteners[e].count>0&&(_globallisteners[e].count=_globallisteners[e].count-1))}}}}(powerplayer),function(a){var b={},c={};a.plugins=function(){},a.plugins.loadPlugins=function(d,e){return c[d]=new a.plugins.pluginloader(new a.plugins.model(b),e),c[d]},a.plugins.registerPlugin=function(d,e,f){var g=a.utils.getPluginName(d);if(b[g])b[g].registerPlugin(d,e,f);else{a.utils.log("A plugin ("+d+") was registered with the player that was not loaded. Please check your configuration.");for(var h in c)c[h].pluginFailed()}}}(powerplayer),function(a){a.plugins.model=function(b){this.addPlugin=function(c){var d=a.utils.getPluginName(c);return b[d]||(b[d]=new a.plugins.plugin(c)),b[d]}}}(powerplayer),function(a){a.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"},a.plugins.plugin=function(b){function c(){switch(a.utils.getPluginPathType(b)){case a.utils.pluginPathType.ABSOLUTE:return b;case a.utils.pluginPathType.RELATIVE:return a.utils.getAbsolutePath(b,window.location.href);case a.utils.pluginPathType.CDN:var c=a.utils.getPluginName(b),d=a.utils.getPluginVersion(b),e=0==window.location.href.indexOf("https://")?i.replace("http://","https://secure"):i;return e+"/"+a.version.split(".")[0]+"/"+c+"/"+c+(""!==d?"-"+d:"")+".js"}}function d(b){h=setTimeout(function(){j=a.utils.loaderstatus.COMPLETE,k.sendEvent(a.events.COMPLETE)},1e3)}function e(b){j=a.utils.loaderstatus.ERROR,k.sendEvent(a.events.ERROR)}var f,g,h,i="http://plugins.longtailvideo.com",j=a.utils.loaderstatus.NEW,k=new a.events.eventdispatcher;a.utils.extend(this,k),this.load=function(){if(j==a.utils.loaderstatus.NEW){if(b.lastIndexOf(".swf")>0)return f=b,j=a.utils.loaderstatus.COMPLETE,void k.sendEvent(a.events.COMPLETE);j=a.utils.loaderstatus.LOADING;var g=new a.utils.scriptloader(c());g.addEventListener(a.events.COMPLETE,d),g.addEventListener(a.events.ERROR,e),g.load()}},this.registerPlugin=function(b,c,d){h&&(clearTimeout(h),h=void 0),c&&d?(f=d,g=c):"string"==typeof c?f=c:"function"==typeof c?g=c:c||d||(f=b),j=a.utils.loaderstatus.COMPLETE,k.sendEvent(a.events.COMPLETE)},this.getStatus=function(){return j},this.getPluginName=function(){return a.utils.getPluginName(b)},this.getFlashPath=function(){if(f)switch(a.utils.getPluginPathType(f)){case a.utils.pluginPathType.ABSOLUTE:return f;case a.utils.pluginPathType.RELATIVE:return b.lastIndexOf(".swf")>0?a.utils.getAbsolutePath(f,window.location.href):a.utils.getAbsolutePath(f,c());case a.utils.pluginPathType.CDN:return f.indexOf("-")>-1?f+"h":f+"-h"}return null},this.getJS=function(){return g},this.getPluginmode=function(){return"undefined"!=typeof f&&"undefined"!=typeof g?a.plugins.pluginmodes.HYBRID:"undefined"!=typeof f?a.plugins.pluginmodes.FLASH:"undefined"!=typeof g?a.plugins.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new g(a,b,c)},this.getURL=function(){return b}}}(powerplayer),function(a){a.plugins.pluginloader=function(b,c){function d(){i||(i=!0,g=a.utils.loaderstatus.COMPLETE,j.sendEvent(a.events.COMPLETE))}function e(){if(!i){var b=0;for(plugin in f){var c=f[plugin].getStatus();c!=a.utils.loaderstatus.LOADING&&c!=a.utils.loaderstatus.NEW||b++}0==b&&d()}}var f={},g=a.utils.loaderstatus.NEW,h=!1,i=!1,j=new a.events.eventdispatcher;a.utils.extend(this,j),this.setupPlugins=function(a,b,c){var d={length:0,plugins:{}},e={length:0,plugins:{}};for(var g in f){var h=f[g].getPluginName();if(f[g].getFlashPath()&&(d.plugins[f[g].getFlashPath()]=b.plugins[g],d.plugins[f[g].getFlashPath()].pluginmode=f[g].getPluginmode(),d.length++),f[g].getJS()){var i=document.createElement("div");i.id=a.id+"_"+h,i.style.position="absolute",i.style.zIndex=e.length+10,e.plugins[h]=f[g].getNewInstance(a,b.plugins[g],i),e.length++,"undefined"!=typeof e.plugins[h].resize&&(a.onReady(c(e.plugins[h],i,!0)),a.onResize(c(e.plugins[h],i)))}}return a.plugins=e.plugins,d},this.load=function(){g=a.utils.loaderstatus.LOADING,h=!0;for(var d in c)a.utils.exists(d)&&(f[d]=b.addPlugin(d),f[d].addEventListener(a.events.COMPLETE,e),f[d].addEventListener(a.events.ERROR,e));for(d in f)f[d].load();h=!1,e()},this.pluginFailed=function(){d()},this.getStatus=function(){return g}}}(powerplayer),function(a){a.html5=function(b){var c=b;return this.setup=function(b){return a.utils.extend(this,new a.html5.api(c,b)),this},this}}(powerplayer),function(a){a.html5.api=function(b,c){function d(){ia=document.createElement("img"),ia.id=b.id+"_Loading",ia.style.display="block",ia.style.position="absolute",ia.style.top="50%",ia.style.left="50%",ia.style.transform="translate(-50%,-50%)",ia.src=Y+"/loading.gif",b.appendChild(ia)}function e(){ia.style.display="none"}function f(){switch(a.utils.getPluginPathType($)){case a.utils.pluginPathType.ABSOLUTE:return $;case a.utils.pluginPathType.RELATIVE:return Y+"/"+$;case a.utils.pluginPathType.CDN:var b=a.utils.getPluginName($),c=a.utils.getPluginVersion($),d=0==window.location.href.indexOf("https://")?_repo.replace("http://","https://secure"):_repo;return d+"/"+a.version.split(".")[0]+"/"+b+"/"+b+(""!==c?"-"+c:"")+".js"}}function g(){console.log("begin setup html5 player..."),X=a.utils.loaderstatus.COMPLETE,console.log("initialize markers.");for(var d=[],e=0;e<da.length;e++){var f=da[e];d.push(new pwplayer.Markers.StandardMarker(f.time,f.info))}if(console.log("initialize thumbsbif."),void 0!=c.thumbsbif&&""!=c.thumbsbif&&(void 0===c.showthumbnails||c.showthumbnails===!0)){var g=c.thumbsbif,h=100;if(""!=c.duration&&void 0!=c.duration){var t=parseInt(c.duration);h=Math.floor(t/10)}var u=160,v=90,w=10,x=10;console.log("initialize _thumbs."),ea=pwplayer.Thumbnails.buildSpriteConfig(g,h,u,v,w,x)}if(0==oa.length&&oa.push(c.file),void 0!=c.levels&&""!=c.levels&&0==ba.length){var y=c.levels;for(e=0;e<y.length;e++){var z={};z.label=y[e].height+"p",z.src=y[e].file,ba.push(z)}}var A="100%";void 0!==c.width&&""!==c.width&&(A=c.width);var B="100%";void 0!==c.height&&""!==c.height&&(B=c.height);var C=!0,D=!1,E=!0;void 0!==c.components.controlbar&&void 0!==c.components.controlbar.position&&("bottom"===c.components.controlbar.position?C=!1:"none"===c.components.controlbar.position&&(D=!0)),void 0!==c.allowUserInteraction&&c.allowUserInteraction===!1&&(E=!1);var F=a.utils.extension(c.file);"mp3"===F&&(C=!1);var G="",H="top-right";void 0!==c.components.logo&&void 0!==c.components.logo.file&&(G=c.components.logo.file),void 0!==c.components.logo&&void 0!==c.components.logo.position&&(H=c.components.logo.position);var I="";void 0!==c.image&&""!==c.image&&(I=c.image);var J=!1;void 0!==c.repeat&&"always"===c.repeat&&(J=!0);var K=!0;void 0!==c.seamless&&c.seamless===!1&&(K=!1);var L=!0;void 0!==c.playinline&&c.playinline===!1&&(L=!1);var M=!1;void 0!==c.playbacktype&&"LIVE"===c.playbacktype&&(M=!0);var N=!1;void 0!==c.seekdisabled&&c.seekdisabled===!0&&(N=!0);var O=0;void 0!==c.noactiontime&&isNaN(c.noactiontime)===!1&&(O=parseInt(c.noactiontime));var P=!1;void 0!==c.preview&&c.preview===!0&&(P=!0);var Q=300;void 0!==c.prviewTime&&isNaN(c.prviewTime)===!1&&(Q=parseInt(c.prviewTime));var R=0;void 0!==c.headtime&&isNaN(c.headtime)===!1&&(R=parseInt(c.headtime));var S=0;void 0!==c.bottomtime&&isNaN(c.bottomtime)===!1&&(S=parseInt(c.bottomtime));var T=!0;void 0!==c.skipheadbottom&&c.skipheadbottom===!1&&(T=!1);var U="";U=void 0!==c.components.captions&&void 0!==c.components.captions.file?c.components.captions.file:void 0===c.subtitle?"":c.subtitle;var V=!0;void 0!==c.hasAudio&&c.hasAudio===!1&&(V=!1);var W=!0;void 0!==c.hasVideo&&c.hasVideo===!1&&(W=!1),console.log("embed html5 player..."),Z=new pwplayer.Player({sources:oa,title:c.title,autoPlay:c.autostart,baseUrl:Y,width:A,height:B,watermark:G,position:H,poster:I,hideMediaControl:C,chromeless:D,allowUserInteraction:E,loop:J,seekdisabled:N,noactiontime:O,preview:P,prviewTime:Q,skipheadbottom:T,headtime:R,bottomtime:S,bulletscreen:c.bulletscreen,provider:c.provider,clientcert:c.clientcert,powerdrmurl:c.powerdrmurl,latencythreshold:c.latencythreshold,playback:{flvjsConfig:{enableLogging:!0,enableWorker:!1,lazyLoadMaxDuration:180,seekType:"range",isLive:M,hasVideo:W,hasAudio:V},hlsjsConfig:{baseurl:c.weburlparam,liveSyncDurationCount:3},hlsUseNextLevel:K,playInline:L},playbacktype:c.playbacktype,playbackRateConfig:{defaultValue:"1.0",options:[{value:"0.5",label:"0.5X"},{value:"0.75",label:"0.75X"},{value:"1.0",label:"1.0X"},{value:"1.5",label:"1.5X"},{value:"2.0",label:"2.0X"}]},levelSelectorConfig:{title:"",labels:{6:"原画",5:"4K",4:"2K",3:"超清",2:"高清",1:"标清",0:"流畅"},labelCallback:function(a,b){return void 0===a.level||void 0===a.level.height?b:b+a.level.height+"p"}},markers:{markers:d,tooltipBottomMargin:17},thumbnails:{backdropHeight:64,spotlightHeight:84,thumbs:ea},bitrateSelectorConfig:{bitrates:ba},ads:ca,lastplayposition:c.lastplayposition,powerStats:{onCompletion:[5,20,50,70,100],shortcut:["command+shift+s","ctrl+shift+s"],iconPosition:"top-right",baseurl:c.weburlparam,reportserver:c.statisticsserver,streamid:c.streamid,contentid:c.contentid,videoname:c.title,videoid:c.fileid,siteid:c.siteid,sourceid:c.sourceid,username:c.username},subtitle:{src:U,auto:!0,backgroundColor:"transparent",fontWeight:"normal",fontSize:"20px",color:"#fff",textShadow:"1px 1px #000"},iceservers:c.iceservers,wstrackers:c.wstrackers,events:{
onReady:i,onPlay:j,onPause:k,onStop:l,onError:n,onSeek:m,onEnded:o,onTimeUpdate:p,onFullscreen:q,onSwitchDanmu:r,onSendDanmu:s},mirrorServers:pa,video360:qa,adpad:c.adpad,liveopened:c.liveopened,marquees:c.marquees,backtosee:c.backtosee,gettimeurl:c.gettimeurl,mimeType:c.mimeType}),Z.attachTo(b),console.log("html5 player created.")}function h(a,b){b?ha.sendEvent(a,b):ha.sendEvent(a)}function i(){if(e(),la&&la.load&&"undefined"!=typeof CommentManager){ja=document.getElementsByClassName("pwplayer-comment"),b.className=b.className+" comment-parent";var d=la.load.replace("{$id}",c.fileid);ma=new CommentManager(ja[0]),c.danmuscale&&(ma.options.global.scale=parseFloat(c.danmuscale)),ma.init(),ma.start(),window&&"undefined"!=typeof window.addEventListener&&window.addEventListener("resize",function(){ma.setBounds()});var f=(new CommentProvider).addStaticSource(CommentProvider.XMLProvider("GET",d),CommentProvider.SOURCE_XML).addParser(new CommonDanmakuFormat.XMLParser,CommentProvider.SOURCE_XML).addTarget(ma);f.start()["catch"](function(a){}),ma.clear()}if(la&&la.wsserver&&z(),a.utils.exists(window.playerReady)){var g={id:ka.id,version:ka.version};playerReady(g)}h(a.api.events.POWERPLAYER_MEDIA_LOADED)}function j(){ma&&ma.start(),t(a.api.events.state.PLAYING)}function k(){ma&&ma.stop(),t(a.api.events.state.PAUSED)}function l(){ma&&ma.stop(),na&&na.emit("leave"),t(a.api.events.state.IDLE)}function m(){h(a.api.events.POWERPLAYER_MEDIA_SEEK)}function n(b){ma&&ma.stop(),na&&na.emit("leave"),h(a.api.events.POWERPLAYER_ERROR,b.error)}function o(b){ma&&ma.stop(),na&&na.emit("leave"),h(a.api.events.POWERPLAYER_MEDIA_COMPLETE)}function p(b){ma&&ma.time(Math.round(1e3*b.current)),h(a.api.events.POWERPLAYER_MEDIA_TIME,{position:b.current,duration:b.total})}function q(a){ma&&ma.setBounds()}function r(a){ma&&(a?(ma.display=!1,ma.start()):(ma.display=!1,ma.clear(),ma.stop()))}function s(a){if(ma&&Z){var b={mode:1,text:a.text,stime:1e3*Z.getCurrentTime()-1,size:a.size,color:a.color,border:!0};void 0!=c.playbacktype&&"LIVE"===c.playbacktype&&(b.stime=-1),ma.insert(b),ma.send(b),W(b),na&&na.emit("danmaku",JSON.stringify(b))}}function t(b){if((b!=a.api.events.state.PAUSED||fa!=a.api.events.state.IDLE)&&fa!=b){var c=fa;fa=b,h(a.api.events.POWERPLAYER_PLAYER_STATE,{oldstate:c,newstate:b})}}function u(a){_++,console.log("powerplayer.html5.js loaded, completed = "+_),_>=aa&&g()}function v(b){X=a.utils.loaderstatus.ERROR,console.log("failed load powerplayer.html5.js, status = "+X)}function w(){if(X==a.utils.loaderstatus.NEW){X=a.utils.loaderstatus.LOADING;var b=new a.utils.scriptloader(f());b.addEventListener(a.events.COMPLETE,u),b.addEventListener(a.events.ERROR,v),b.load(),aa++}}function x(a){na=io(la.wsserver),na.on("connect",function(){na.emit("join",c.fileid)}),na.on("danmaku",function(a){try{var b=JSON.parse(a);b.hasOwnProperty("stime")&&b.stime>0?ma.insert(b):ma.send(b)}catch(c){console.log("error in insert realtime danmu")}})}function y(a){console.log("Failed to load socket.io.js")}function z(){var b=new a.utils.scriptloader(Y+"/socket.io.js");b.addEventListener(a.events.COMPLETE,x),b.addEventListener(a.events.ERROR,y),b.load()}function A(a){_++,_>=aa&&g()}function B(a){_++,_>=aa&&g()}function C(){var b=new a.utils.scriptloader(Y+"/ccl.js");b.addEventListener(a.events.COMPLETE,A),b.addEventListener(a.events.ERROR,B),b.load(),aa++}function D(a){_++,_>=aa&&g()}function E(a){_++,_>=aa&&g()}function F(){var b=new a.utils.scriptloader(Y+"/powerdrm.js");b.addEventListener(a.events.COMPLETE,D),b.addEventListener(a.events.ERROR,E),b.load(),aa++}function G(){var b=Y+"/config.xml";a.utils.ajax(b,H,I,"xml"),aa++}function H(a){_++,la={};try{var b=a.responseXML,c=b.getElementsByTagName("server"),d=c[0].getElementsByTagName("load");d&&(la.load=d[0].childNodes[0].nodeValue);var e=c[0].getElementsByTagName("send");e&&(la.send=e[0].childNodes[0].nodeValue);var f=c[0].getElementsByTagName("websocket");f&&(la.wsserver=f[0].childNodes[0].nodeValue)}catch(h){console.log("Failed to load danmu config")}_>=aa&&g()}function I(a){_++,_>=aa&&g()}function J(){var b=c.weburlparam+"/service/flashPlayerService-getDefinitionInfo.action?fileId="+c.fileid+"&contentId="+c.contentid;a.utils.ajax(b,K,L,"json"),aa++}function K(b){_++,console.log("definition loaded, completed = "+_);var d=c.file,e="http://";0==d.indexOf("http://")?d=d.substring(7):0==d.indexOf("https://")&&(d=d.substring(8),e="https://");var f=a.utils.extension(d);if("m3u8"==f)return void(_>=aa&&g());ba=[];var h=d.indexOf("/"),i=d.substring(0,h),j=i.lastIndexOf(":"),k="80";j>0&&(k=i.substring(j+1));var l=a.utils.isMobile(),m=a.utils.readCookie("definition");if(void 0==m&&(l?(b&&void 0!=b.smooth&&(m="ld"),void 0==m&&b&&void 0!=b.sd&&(m="sd"),void 0==m&&b&&void 0!=b.hd&&(m="hd"),void 0==m&&b&&void 0!=b.fhd&&(m="fhd"),void 0==m&&b&&void 0!=b.qhd&&(m="qhd"),void 0==m&&b&&void 0!=b.qhd&&(m="uhd"),void 0==m&&b&&void 0!=b.od&&(m="od")):(void 0==m&&b&&void 0!=b.hd&&(m="hd"),void 0==m&&b&&void 0!=b.sd&&(m="sd"),void 0==m&&b&&void 0!=b.smooth&&(m="ld"),void 0==m&&b&&void 0!=b.fhd&&(m="fhd"),void 0==m&&b&&void 0!=b.qhd&&(m="qhd"),void 0==m&&b&&void 0!=b.qhd&&(m="uhd"),void 0==m&&b&&void 0!=b.od&&(m="od"))),b&&void 0!=b.smooth){var n={};if(b.smooth.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.smooth.length;v<w;v++){var x=b.smooth[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=pa.length>0?pa[0]:b.smooth[v].playserverip):"flv"==y?(r=x,s=pa.length>0?pa[0]:b.smooth[v].playserverip):"mp4"==y&&(t=x,u=b.smooth[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o}else{var z=b.smooth[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.smooth[0].path}n.label="流畅","ld"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.sd){var n={};if(b.sd.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.sd.length;v<w;v++){var x=b.sd[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.sd[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.sd[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.sd[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o,oa=o}else{var z=b.sd[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.sd[0].path}n.label="标清","sd"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.hd){var n={};if(b.hd.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.hd.length;v<w;v++){var x=b.hd[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.hd[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.hd[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.hd[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o,oa=o}else{var z=b.hd[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.hd[0].path}n.label="高清","hd"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.fhd){var n={};if(b.fhd.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.fhd.length;v<w;v++){var x=b.fhd[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.fhd[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.fhd[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.fhd[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o,oa=o}else{var z=b.fhd[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.fhd[0].path}n.label="超清","fhd"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.qhd){var n={};if(b.qhd.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.qhd.length;v<w;v++){var x=b.qhd[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.qhd[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.qhd[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.qhd[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o}else{var z=b.qhd[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.qhd[0].path}n.label="2K","qhd"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.uhd){var n={};if(b.uhd.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.uhd.length;v<w;v++){var x=b.uhd[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.uhd[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.uhd[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.uhd[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o}else{var z=b.uhd[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.uhd[0].path}n.label="4K","uhd"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}if(b&&void 0!=b.od){var n={};if(b.od.length>1){for(var o=[],p="",q="",r="",s="",t="",u="",v=0,w=b.od.length;v<w;v++){var x=b.od[v].path,y=a.utils.extension(x);"m3u8"==y?(p=x,q=b.od[v].playserverip,pa.length>0&&(q=pa[0])):"flv"==y?(r=x,s=b.od[v].playserverip,pa.length>0&&(s=pa[0])):"mp4"==y&&(t=x,u=b.od[v].playserverip,pa.length>0&&(u=pa[0]))}""!=p&&o.push(e+q+":"+k+"/"+p),""!=r&&o.push(e+s+":"+k+"/"+r),""!=p&&o.push(e+u+":"+k+"/"+t),n.srcs=o}else{var z=b.od[0].playserverip;pa.length>0&&(z=pa[0]),n.src=e+z+":"+k+"/"+b.od[0].path}n.label="原画","od"==m&&(n["default"]=!0,void 0!=n.srcs?oa=o:oa.push(n.src)),ba.push(n)}console.log("definition parsed"),_>=aa&&g()}function L(a){_++,console.log("failed load definition"),_>=aa&&g()}function M(){var b=c.weburlparam+"/service/flashPlayerService-getAD.action?fileId="+c.fileid+"&contentId="+c.contentid;a.utils.ajax(b,N,O,"json"),aa++}function N(a){_++,console.log("ads loaded, completed = "+_),a&&a[0]&&""!=a[0].adpause&&void 0!=a[0].adpause&&(ca.paused={},ca.paused.image=a[0].adpause,ca.paused.imageLink=a[0].adpauseLink,ca.paused.adId=a[0].adpauseId),a&&a[0]&&""!=a[0].adhead&&void 0!=a[0].adhead&&(ca.preRoll={},ca.preRoll.src=a[0].adhead,ca.preRoll.adId=a[0].adheadId,ca.preRoll.skip=void 0!==c.skipad&&c.skipad,ca.preRoll.timeout=5,ca.text={},ca.text.wait="$ | 你可以在%秒后关闭广告",ca.text.skip="$ | 关闭广告"),a&&a[0]&&""!=a[0].adend&&void 0!=a[0].adend&&(ca.postRoll={},ca.postRoll.src=a[0].adend,ca.postRoll.adId=a[0].adendId),console.log("ads data parsed"),_>=aa&&g()}function O(a){_++,console.log("failed load ads "),_>=aa&&g()}function P(){var b=c.weburlparam+"/service/flashPlayerService-getTimepoints.action?fileId="+c.fileid+"&filePath="+c.file;a.utils.ajax(b,Q,R,"json"),aa++}function Q(a){_++,console.log("markers loaded, completed = "+_),da=a,console.log(""),_>=aa&&g()}function R(a){_++,console.log("failed load markers "),_>=aa&&g()}function S(){var a=c.file;0==a.indexOf("http://")?a=a.substring(7):0==a.indexOf("https://")&&(a=a.substring(8));var b=a.indexOf("/"),d=a.substring(0,b),e=a.substring(b+1),f=d.lastIndexOf(":"),g=d;f>0&&(g=d.substring(0,f));var h=parseInt(c.duration);h=Math.floor(h/20);for(var i=1;i<h;i++){var j=20*i,k=c.weburlparam+"/service/flashPlayerService-interceptImage.action?fileId="+c.fileid+"&filePath="+e+"&playIp="+g+"&timePoint="+j;ea.push({url:k,time:j})}}function T(a){return function(){}}function U(a,b,c){}function V(a){return function(){ua&&"function"==typeof ua[a]||_utils.log("Could not call instream method - instream API not initialized")}}function W(a){if(la.send){var b=la.send.replace("{$id}",c.fileid),d=new XMLHttpRequest;d.open("POST",b,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.onreadystatechange=function(){console.log(d.responseText),4==d.readyState&&200==d.status&&console.log(d.responseText)};var e=parseInt(a.stime)/1e3,f="user="+c.username+"&fileId="+c.fileid+"&cid="+c.fileid+"&message="+a.text+"&size="+a.size+"&color="+a.color+"&stime="+e+"&mode="+a.mode;d.send(f)}}var X=a.utils.loaderstatus.NEW,Y=a.baseUrl;void 0!==c.baseUrl&&""!==c.baseUrl&&(Y=c.baseUrl);var Z,$="powerplayer.html5.js",_=0,aa=0,ba=[],ca={},da=[],ea=[],fa=a.api.events.state.IDLE,ga=a.utils.exists(c.debug)&&"console"==c.debug.toString().toLowerCase(),ha=new a.html5.eventdispatcher(b.id,ga);a.utils.extend(this,ha);var ia,ja,ka={},la={},ma=null,na=null,oa=[],pa=[],qa=!1;if(""!=c.backupservers&&void 0!=c.backupservers){var ra=c.backupservers;ra.lastIndexOf(",")==ra.length-1&&(ra=ra.substring(0,ra.length-1));for(var sa=ra.split(","),ta=0;ta<sa.length;ta++)pa.push(sa[ta])}""!=c.video360&&void 0!=c.video360&&(qa=c.video360),ka.version=a.version,ka.id=b.id,d(),""!=c.weburlparam&&void 0!=c.weburlparam&&"LIVE"!=c.playbacktype&&(J(),M(),P(),void 0!==c.thumbsbif&&""!==c.thumbsbif||void 0!==c.showthumbnails&&c.showthumbnails!==!0||S()),""!=c.bulletscreen&&void 0!=c.bulletscreen&&c.bulletscreen&&(G(),C()),c.powerdrmurl&&void 0!=c.powerdrmurl&&""!=c.powerdrmurl&&F(),console.log("loading powerplayer.html5.js"),w(),ka.pwPlay=function(a){Z.play()},ka.pwPause=function(a){Z.pause()},ka.pwStop=function(){Z&&Z.stop()},ka.pwSeek=function(a){Z&&Z.seek(a)},ka.pwResize=function(a,b){Z.resize({height:b,width:a})},ka.pwLoad=function(a){Z.load(a)},ka.pwGetPlaylistIndex=T("item"),ka.pwGetPosition=function(){return Z.getCurrentTime()},ka.pwGetDuration=function(){return Z.getDuration()},ka.pwGetBuffer=T("buffer"),ka.pwGetWidth=T("width"),ka.pwGetHeight=T("height"),ka.pwGetFullscreen=T("fullscreen"),ka.pwGetMute=T("mute"),ka.pwSetMute=function(){Z.mute()},ka.pwGetStretching=function(){},ka.pwGetState=function(){return Z.isPlaying()?"PLAYING":"PAUSED"},ka.pwGetVersion=function(){return ka.version},ka.pwGetPlaylist=function(){},ka.pwAddEventListener=this.addEventListener,ka.pwRemoveEventListener=this.removeEventListener,ka.pwSendEvent=this.sendEvent,ka.pwDockSetButton=function(a,b,c,d){},ka.pwControlbarShow=U("controlbar","show"),ka.pwControlbarHide=U("controlbar","hide"),ka.pwDockShow=U("dock","show"),ka.pwDockHide=U("dock","hide"),ka.pwDisplayShow=U("display","show"),ka.pwDisplayHide=U("display","hide");var ua;return ka.pwLoadInstream=function(a,b){setTimeout(function(){},10)},ka.pwInstreamDestroy=function(){},ka.pwInstreamAddEventListener=V("pwInstreamAddEventListener"),ka.pwInstreamRemoveEventListener=V("pwInstreamRemoveEventListener"),ka.pwInstreamGetState=V("pwInstreamGetState"),ka.pwInstreamGetDuration=V("pwInstreamGetDuration"),ka.pwInstreamGetPosition=V("pwInstreamGetPosition"),ka.pwInstreamPlay=V("pwInstreamPlay"),ka.pwInstreamPause=V("pwInstreamPause"),ka.pwInstreamSeek=V("pwInstreamSeek"),ka.pwDestroy=function(){Z.destroy()},ka.pwGetLevel=function(){},ka.pwGetBandwidth=function(){},ka.pwGetLockState=function(){},ka.pwLock=function(){},ka.pwUnlock=function(){},ka.pwSetBulletscreen=function(a){ma&&(a?(ma.display=!1,ma.start()):(ma.display=!1,ma.clear(),ma.stop()))},ka.pwSendBullet=function(a){if(ma&&Z){var b={mode:1,text:a.text,stime:1e3*Z.getCurrentTime()-1,size:a.size,color:a.color,border:!0};void 0!=c.playbacktype&&"LIVE"===c.playbacktype&&(b.stime=-1),ma.insert(b),ma.send(b),W(b),na&&na.emit("danmaku",JSON.stringify(b))}},ka.pwOpenLive=function(){Z.openLive()},ka.pwCloseLive=function(){Z.closeLive()},ka.pwCutInAd=function(a,b){},ka.pwCutOutAd=function(){},ka.pwInsertMarquee=function(a){Z&&Z.insertMarquee(a)},ka}}(powerplayer),function(a){a.html5.eventdispatcher=function(b,c){var d=new a.events.eventdispatcher(c);a.utils.extend(this,d),this.sendEvent=function(c,e){a.utils.exists(e)||(e={}),a.utils.extend(e,{id:b,version:a.version,type:c}),d.sendEvent(c,e)}}}(powerplayer),function(a){function b(){if(!document.body)return setTimeout(b,15);for(var d=c.selectors.getElementsByTagAndClass("video","powerplayer"),e=0;e<d.length;e++){var f=d[e];""==f.id&&(f.id="powerplayer_"+Math.round(1e5*Math.random())),a(f.id).setup({})}}var c=a.utils;a.embed=function(b){function d(a,b){for(var c in b)"function"==typeof a[c]&&a[c].call(a,b[c])}function e(){if(i.getStatus()==c.loaderstatus.COMPLETE){for(var e=0;e<h.modes.length;e++)if(h.modes[e].type&&a.embed[h.modes[e].type]){var f=h.modes[e].config,g=h;if(f){g=c.extend(c.clone(h),f);for(var j=["file","levels","playlist"],k=0;k<j.length;k++){var l=j[k];if(c.exists(f[l]))for(var m=0;m<j.length;m++)if(m!=k){var n=j[m];c.exists(g[n])&&!c.exists(f[n])&&delete g[n]}}}var o=new a.embed[h.modes[e].type](document.getElementById(b.id),h.modes[e],g,i,b);if(o.supportsConfig())return o.embed(),d(b,h.events),h.nosmallwin&&("undefined"!=typeof window.addEventListener?window.addEventListener("resize",function(){b.checkSmallWindow()}):window.attachEvent("resize",function(){b.checkSmallWindow()})),b}c.log("No suitable players found"),a.embed.install(b.id)}}var f={width:400,height:300,components:{controlbar:{position:"over"}}},g=c.mediaparser.parseMedia(b.container),h=new a.embed.config(c.extend(f,g,b.config),this),i=a.plugins.loadPlugins(b.id,h.plugins);return i.addEventListener(a.events.COMPLETE,e),i.addEventListener(a.events.ERROR,e),i.load(),b},b()}(powerplayer),function(a){function b(a){var b=[{type:"html5"},{type:"flash",src:a?a:"/powerplayer/player.swf"},{type:"html5"},{type:"download"}];return g.isAndroid()&&(b[0]=b.splice(1,1,b[0])[0]),b}function c(a){var b=!1;return b=a instanceof Array||"object"==typeof a&&!a.position&&!a.size}function d(a){return"string"==typeof a&&(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1)?parseInt(a):a}function e(a){var b={};switch(g.typeOf(a.plugins)){case"object":for(var c in a.plugins)b[g.getPluginName(c)]=c;break;case"string":for(var d=a.plugins.split(","),e=0;e<d.length;e++)b[g.getPluginName(d[e])]=d[e]}return b}function f(a,b,c,d){"object"!=g.typeOf(a[b])&&(a[b]={});var e=a[b][c];if("object"!=g.typeOf(e)&&(a[b][c]=e={}),d)if("plugins"==b){var f=g.getPluginName(c);e[d]=a[f+"."+d],delete a[f+"."+d]}else e[d]=a[c+"."+d],delete a[c+"."+d]}var g=a.utils,h={players:"modes",autoplay:"autostart"},i=["playlist","dock","controlbar","logo","display","captions"];a.embed.deserialize=function(a){var b=e(a);for(var c in b)f(a,"plugins",b[c]);for(var d in a)if(d.indexOf(".")>-1){var h=d.split("."),j=h[0],d=h[1];g.isInArray(i,j)?f(a,"components",j,d):b[j]&&f(a,"plugins",b[j],d)}return a},a.embed.config=function(e,f){var j,k=g.extend({},e);if(c(k.playlist)&&(j=k.playlist,delete k.playlist),k=a.embed.deserialize(k),k.height=d(k.height),k.width=d(k.width),"string"==typeof k.plugins){var l=k.plugins.split(",");"object"!=typeof k.plugins&&(k.plugins={});for(var m=0;m<l.length;m++){var n=g.getPluginName(l[m]);"object"==typeof k[n]?(k.plugins[l[m]]=k[n],delete k[n]):k.plugins[l[m]]={}}}for(var o=0;o<i.length;o++){var p=i[o];g.exists(k[p])&&("object"!=typeof k[p]?(k.components[p]||(k.components[p]={}),"logo"==p?k.components[p].file=k[p]:k.components[p].position=k[p],delete k[p]):(k.components[p]||(k.components[p]={}),g.extend(k.components[p],k[p]),delete k[p])),"undefined"!=typeof k[p+"size"]&&(k.components[p]||(k.components[p]={}),k.components[p].size=k[p+"size"],delete k[p+"size"])}"undefined"!=typeof k.icons&&(k.components.display||(k.components.display={}),k.components.display.icons=k.icons,delete k.icons);for(var q in h)k[q]&&(k[h[q]]||(k[h[q]]=k[q]),delete k[q]);var r;return k.flashplayer&&!k.modes?(r=b(k.flashplayer),delete k.flashplayer):k.modes?("string"==typeof k.modes?r=b(k.modes):k.modes instanceof Array?r=k.modes:"object"==typeof k.modes&&k.modes.type&&(r=[k.modes]),delete k.modes):r=b(),k.modes=r,j&&(k.playlist=j),k}}(powerplayer),function(a){a.embed.download=function(b,c,d,e,f){function g(b,c,d){if(d)return!1;var e=["image","sound","youtube","http"];if(c&&e.toString().indexOf(c)>-1)return!0;if(!c||c&&"video"==c){var f=a.utils.extension(b);if(f&&a.utils.extensionmap[f])return!0}return!1}this.embed=function(){function c(a){_imageWidth=g.display_image.naturalWidth,_imageHeight=g.display_image.naturalHeight,e()}function e(){a.utils.stretch(a.utils.stretching.UNIFORM,g.display_image,h,i,_imageWidth,_imageHeight)}var g=(a.utils.extend({},d),{}),h=d.width?d.width:480;"number"!=typeof h&&(h=parseInt(h,10));var i=d.height?d.height:320;"number"!=typeof i&&(i=parseInt(i,10));var j,k,l,m={};d.playlist&&d.playlist.length?(m.file=d.playlist[0].file,k=d.playlist[0].image,m.levels=d.playlist[0].levels):(m.file=d.file,k=d.image,m.levels=d.levels),m.file?j=m.file:m.levels&&m.levels.length&&(j=m.levels[0].file),l=j?"pointer":"auto";var n={display:{style:{cursor:l,width:h,height:i,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:l,position:"absolute",display:j?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:l,position:"absolute",display:j?"block":"none",top:(i-50)/2,left:(h-50)/2,border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:h,height:i,display:k?"block":"none",position:"absolute",cursor:l,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}},o=function(c,d,e){var f=document.createElement(c);return e?f.id=e:f.id=b.id+"_powerplayer_"+d,a.utils.css(f,n[d].style),f};g.display=o("a","display",b.id),j&&g.display.setAttribute("href",a.utils.getAbsolutePath(j)),g.display_image=o("img","display_image"),g.display_image.setAttribute("alt","Click to download..."),k&&g.display_image.setAttribute("src",a.utils.getAbsolutePath(k)),g.display_icon=o("div","display_icon"),g.display_iconBackground=o("div","display_iconBackground"),g.display.appendChild(g.display_image),g.display_iconBackground.appendChild(g.display_icon),g.display.appendChild(g.display_iconBackground),_css=a.utils.css,_hide=function(a){_css(a,{display:"none"})},g.display_image.onerror=function(a){_hide(g.display_image)},g.display_image.onload=c,b.parentNode.replaceChild(g.display,b);d.plugins&&d.plugins.logo?d.plugins.logo:{};g.display.appendChild(new a.embed.logo(d.components.logo,"download",b.id)),f.container=document.getElementById(f.id),f.setPlayer(g.display,"download")},this.supportsConfig=function(){if(!d)return!0;var b=a.utils.getFirstPlaylistItemFromConfig(d);if("undefined"==typeof b.file&&"undefined"==typeof b.levels)return!0;if(b.file)return g(b.file,b.provider,b.playlistfile);if(b.levels&&b.levels.length)for(var c=0;c<b.levels.length;c++)if(b.levels[c].file&&g(b.levels[c].file,b.provider,b.playlistfile))return!0}}}(powerplayer),function(a){a.embed.flash=function(b,c,d,e,f){function g(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function h(b,c,d){return function(e){d&&document.getElementById(f.id+"_wrapper").appendChild(c);var g=document.getElementById(f.id).getPluginConfig("display");b.resize(g.width,g.height);var h={left:g.x,top:g.y};a.utils.css(c,h)}}function i(a,b){if(a[b]){var c=a[b];for(var d in c){var e=c[d];if("string"==typeof e)a[d]||(a[d]=e);else for(var f in e)a[d+"."+f]||(a[d+"."+f]=e[f])}delete a[b]}}function j(b){if(!b)return{};var c={},d=[];for(var e in b){var f=a.utils.getPluginName(e),g=b[e];d.push(e);for(var h in g)c[f+"."+h]=g[h]}return c.plugins=d.join(","),c}function k(b){var c=b.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in b)c+="object"==typeof b[d]?d+"="+encodeURIComponent("[[JSON]]"+a.utils.strings.jsonToString(b[d]))+"&":d+"="+encodeURIComponent(b[d])+"&";return c.substring(0,c.length-1)}this.embed=function(){d.id=f.id;var l,m=a.utils.extend({},d),n=m.width,o=m.height;b.id+"_wrapper"==b.parentNode.id?l=document.getElementById(b.id+"_wrapper"):(l=document.createElement("div"),l.id=b.id+"_wrapper",a.utils.wrap(b,l),a.utils.css(l,{position:"relative",width:n,height:o}));var p=e.setupPlugins(f,m,h);p.length>0?a.utils.extend(m,j(p.plugins)):delete m.plugins;for(var q=["height","width","modes","events"],r=0;r<q.length;r++)delete m[q[r]];var s="opaque";m.wmode&&(s=m.wmode),i(m,"components"),i(m,"providers"),"undefined"!=typeof m["dock.position"]&&"false"==m["dock.position"].toString().toLowerCase()&&(m.dock=m["dock.position"],delete m["dock.position"]);var t=a.utils.getCookies();for(var u in t)"undefined"==typeof m[u]&&(m[u]=t[u]);var v,w="#000000";if(a.utils.isMSIE()){var x='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+w+'" width="100%" height="100%" id="'+b.id+'" name="'+b.id+'" tabindex=0"">';x+='<param name="movie" value="'+c.src+'">',x+='<param name="allowfullscreen" value="true">',x+='<param name="allowscriptaccess" value="always">',x+='<param name="seamlesstabbing" value="true">',x+='<param name="wmode" value="'+s+'">',x+='<param name="flashvars" value="'+k(m)+'">',x+="</object>",a.utils.setOuterHTML(b,x),v=document.getElementById(b.id)}else{var y=document.createElement("object");y.setAttribute("type","application/x-shockwave-flash"),y.setAttribute("data",c.src),y.setAttribute("width","100%"),y.setAttribute("height","100%"),y.setAttribute("bgcolor","#000000"),y.setAttribute("id",b.id),y.setAttribute("name",b.id),y.setAttribute("tabindex",0),g(y,"allowfullscreen","true"),g(y,"allowscriptaccess","always"),g(y,"seamlesstabbing","true"),g(y,"wmode",s),g(y,"flashvars",k(m)),b.parentNode.replaceChild(y,b),v=y}f.container=v,f.setPlayer(v,"flash")},this.supportsConfig=function(){if(a.utils.hasFlash()){if(!d)return!0;var b=a.utils.getFirstPlaylistItemFromConfig(d);if("undefined"==typeof b.file&&"undefined"==typeof b.levels)return!0;if(b.file)return flashCanPlay(b.file,b.provider);if(b.levels&&b.levels.length)for(var c=0;c<b.levels.length;c++)if(b.levels[c].file&&flashCanPlay(b.levels[c].file,b.provider))return!0}return!1},flashCanPlay=function(b,c){var d=["video","http","sound","image"];if(c&&d.toString().indexOf(c)<0)return!0;var e=a.utils.extension(b);return!e||!(a.utils.exists(a.utils.extensionmap[e])&&!a.utils.exists(a.utils.extensionmap[e].flash))}}}(powerplayer),function(a){a.embed.html5=function(b,c,d,e,f){this.embed=function(){if(!a.html5)return null;for(var c=a.utils.extend({screencolor:"0x000000"},d),e=["plugins","modes","events"],g=0;g<e.length;g++)delete c[e[g]];c.levels&&!c.sources&&(c.sources=d.levels),c.skin&&c.skin.toLowerCase().indexOf(".zip")>0&&(c.skin=c.skin.replace(/\.zip/i,".xml"));var h=new(a.html5(b).setup)(c);f.container=document.getElementById(f.id),f.setPlayer(h,"html5")},this.supportsConfig=function(){var b=a.utils.getIEVersion();if(b>0&&b<=10)return!1;if(a.vid.canPlayType){if(!d)return!0;if(d.powerdrmurl&&d.powerdrmurl.length>0&&"object"!=typeof WebAssembly)return!1;var c=a.utils.getFirstPlaylistItemFromConfig(d);if("undefined"==typeof c.file&&"undefined"==typeof c.levels)return!0;if(c.file)return html5CanPlay(a.vid,c.file,c.provider,c.playlistfile);if(c.levels&&c.levels.length)for(var e=0;e<c.levels.length;e++)if(c.levels[e].file&&html5CanPlay(a.vid,c.levels[e].file,c.provider,c.playlistfile))return!0}return!1},html5CanPlay=function(b,c,d,e){if(e)return!1;if(d&&"youtube"==d)return!0;if(d&&"video"!=d&&"http"!=d&&"sound"!=d&&"hls"!=d&&"p2p"!=d&&"flvlive"!=d&&"p2plive"!=d&&"p2phls"!=d)return!1;if("flvlive"==d&&("undefined"==typeof window.fetch||"undefined"==typeof window.ReadableStream))return!1;var f=a.utils.extension(c);return!a.utils.exists(f)||!a.utils.exists(a.utils.extensionmap[f])||!!a.utils.exists(a.utils.extensionmap[f].html5)&&(!(!a.utils.isLegacyAndroid()||!f.match(/m4v|mp4|m3u8/))||browserCanPlay(b,a.utils.extensionmap[f].html5))},browserCanPlay=function(a,b){return!b||(!!a.canPlayType(b)||("audio/mp3"==b&&navigator.userAgent.match(/safari/i)?a.canPlayType("audio/mpeg"):!("video/flv"!=b||!supportMSEH264Playback())||!("audio/x-mpegurl"!=b||!supportMSEH264Playback())))},supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}}}(powerplayer),function(a){a.embed.install=function(b){function c(){d()}function d(){var c="http://get.adobe.com/cn/flashplayer";a.utils.isIE()?c=a.baseUrl+"/install_flash_player_ax.exe":a.utils.isChrome()?c=a.baseUrl+"/install_flash_player_ppapi.exe":a.utils.isFirefox()&&(c=a.baseUrl+"/install_flash_player_npapi.exe");var d='<div style="width: 100%;height:100%; margin-bottom:19px; margin-top:-19px; background-color: black;"><div style="width: 100%;height:30%;"></div><table width="100%" border="0" bgcolor="black"><tr><td width="15%" rowspan="3" align="right" bgcolor="black"></td><td width="55%" align="left" style="font-size:12px;color:#99B6D6;line-height:17px;">您没有安装flash播放器或flash播放器的版本低于10.0.0</td><td width="15%" rowspan="3" align="right" bgcolor="black"></td></tr><tr>  <td align="left" style="font-size:12px;color:#99B6D6;line-height:17px;">为了您正常观看视频，请先安装 <a href="'+c+'" style="color:#CBDEF0" target="_blank">最新版Adobe FLASH播放器</a> </td></tr><tr><td align="left" style="font-size:12px;color:#99B6D6;line-height:17px;">安装完成后请刷新页面或按F5</td></tr> </table></div>',e=document.getElementById(b);e.innerHTML=d}c()}}(powerplayer),function(a){a.embed.logo=function(b,c,d){function e(){f(),h(),i()}function f(){if(m.prefix){var c=a.version.split(/\W/).splice(0,2).join("/");m.prefix.indexOf(c)<0&&(m.prefix+=c+"/")}o=a.utils.extend({},m,b)}function g(){var a={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};a.display=o.hide?"none":"block";var b=o.position.toLowerCase().split("-");for(var c in b)a[b[c]]=o.margin;return a}function h(){n=document.createElement("img"),n.id=d+"_powerplayer_logo",n.style.display="none",n.onload=function(a){_css(n,g()),k()},o.file&&(0===o.file.indexOf("http://")?n.src=o.file:n.src=o.prefix+o.file)}function i(){o.link?(n.onmouseover=l,n.onmouseout=k,n.onclick=j):this.mouseEnabled=!1}function j(a){"undefined"!=typeof a&&(a.preventDefault(),a.stopPropagation()),o.link&&window.open(o.link,o.linktarget)}function k(a){o.link&&(n.style.opacity=o.out)}function l(a){o.hide&&(n.style.opacity=o.over)}var m={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:.5,over:1,timeout:5,hide:!1,position:"bottom-left"};_css=a.utils.css;var n,o;if(e(),o.file)return n}}(powerplayer),function(a){var b=[];a.api=function(b){function c(a,b){return function(c,d,e,f){if("flash"==a.renderingMode||"html5"==a.renderingMode){var g;d?(p[c]=d,g="powerplayer('"+a.id+"').callback('"+c+"')"):!d&&p[c]&&delete p[c],j.pwDockSetButton(c,g,e,f)}return b}}function d(b){l=[],a.utils.getOuterHTML(b.container)!=n&&a.api.destroyPlayer(b.id,n)}function e(a){return function(b){var c=b.newstate,d=b.oldstate;if(c==a){var e=h[c];if(e)for(var f=0;f<e.length;f++)"function"==typeof e[f]&&e[f].call(this,{oldstate:d,newstate:c})}}}function f(a,b){return function(c){if(a==c.component){var d=i[a][b];if(d)for(var e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,c)}}}this.container=b,this.id=b.id;var g={},h={},i={},j=void 0,k=!1,l=[],m=void 0,n=a.utils.getOuterHTML(b),o={},p={};return this.getBuffer=function(){return this.callInternal("pwGetBuffer")},this.getContainer=function(){return this.container},this.getPlugin=function(b){var d=this,e={};return"dock"==b?a.utils.extend(e,{setButton:c(d,e),show:function(){return d.callInternal("pwDockShow"),e},hide:function(){return d.callInternal("pwDockHide"),e},onShow:function(b){return d.componentListener("dock",a.api.events.POWERPLAYER_COMPONENT_SHOW,b),e},onHide:function(b){return d.componentListener("dock",a.api.events.POWERPLAYER_COMPONENT_HIDE,b),
e}}):"controlbar"==b?a.utils.extend(e,{show:function(){return d.callInternal("pwControlbarShow"),e},hide:function(){return d.callInternal("pwControlbarHide"),e},onShow:function(b){return d.componentListener("controlbar",a.api.events.POWERPLAYER_COMPONENT_SHOW,b),e},onHide:function(b){return d.componentListener("controlbar",a.api.events.POWERPLAYER_COMPONENT_HIDE,b),e}}):"display"==b?a.utils.extend(e,{show:function(){return d.callInternal("pwDisplayShow"),e},hide:function(){return d.callInternal("pwDisplayHide"),e},onShow:function(b){return d.componentListener("display",a.api.events.POWERPLAYER_COMPONENT_SHOW,b),e},onHide:function(b){return d.componentListener("display",a.api.events.POWERPLAYER_COMPONENT_HIDE,b),e}}):this.plugins[b]},this.callback=function(a){if(p[a])return p[a]()},this.getDuration=function(){return this.callInternal("pwGetDuration")},this.getFullscreen=function(){return this.callInternal("pwGetFullscreen")},this.getHeight=function(){return this.callInternal("pwGetHeight")},this.lockSeek=function(){return this.callInternal("lockSeek")},this.getLockState=function(){return this.callInternal("pwGetLockState")},this.getMeta=function(){return this.getItemMeta()},this.getMute=function(){return this.callInternal("pwGetMute")},this.getPlaylist=function(){var b=this.callInternal("pwGetPlaylist");"flash"==this.renderingMode&&a.utils.deepReplaceKeyName(b,["__dot__","__spc__","__dsh__"],["."," ","-"]);for(var c=0;c<b.length;c++)a.utils.exists(b[c].index)||(b[c].index=c);return b},this.getPlaylistItem=function(b){return a.utils.exists(b)||(b=this.getCurrentItem()),this.getPlaylist()[b]},this.getPosition=function(){return this.callInternal("pwGetPosition")},this.getRenderingMode=function(){return this.renderingMode},this.getState=function(){return this.callInternal("pwGetState")},this.getVolume=function(){return this.callInternal("pwGetVolume")},this.getWidth=function(){return this.callInternal("pwGetWidth")},this.setFullscreen=function(b){return a.utils.exists(b)?this.callInternal("pwSetFullscreen",b):this.callInternal("pwSetFullscreen",!this.callInternal("pwGetFullscreen")),this},this.setMute=function(b){return a.utils.exists(b)?this.callInternal("pwSetMute",b):this.callInternal("pwSetMute",!this.callInternal("pwGetMute")),this},this.lock=function(){return this},this.unlock=function(){return this},this.load=function(a){return this.callInternal("pwLoad",a),this},this.sendBullet=function(a){return this.callInternal("pwSendBullet",a),this},this.setBulletscreen=function(a){return this.callInternal("pwSetBulletscreen",a),this},this.insertMarquee=function(a){return this.callInternal("pwInsertMarquee",a),this},this.getPlaybackStatistics=function(){return this.callInternal("pwGetPlaybackStatistics")},this.playlistItem=function(a){return this.callInternal("pwPlaylistItem",a),this},this.playlistPrev=function(){return this.callInternal("pwPlaylistPrev"),this},this.playlistNext=function(){return this.callInternal("pwPlaylistNext"),this},this.resize=function(a,b){if("html5"==this.renderingMode)j.pwResize(a,b);else{this.container.width=a,this.container.height=b;var c=document.getElementById(this.id+"_wrapper");c&&(c.style.width=a+"px",c.style.height=b+"px")}return this},this.play=function(b){return"undefined"==typeof b||void 0===b?(b=this.getState(),b==a.api.events.state.PLAYING||b==a.api.events.state.BUFFERING?this.callInternal("pwPause"):this.callInternal("pwPlay")):this.callInternal("pwPlay",b),this},this.pause=function(b){return"undefined"==typeof b||void 0===b?(b=this.getState(),b==a.api.events.state.PLAYING||b==a.api.events.state.BUFFERING?this.callInternal("pwPause"):this.callInternal("pwPlay")):this.callInternal("pwPause",b),this},this.stop=function(){return this.callInternal("pwStop"),this},this.seek=function(a){return this.callInternal("pwSeek",a),this},this.review=function(a){return this.callInternal("pwReview",a),this},this.setVolume=function(a){return this.callInternal("pwSetVolume",a),this},this.openLive=function(){return this.callInternal("pwOpenLive"),this},this.closeLive=function(){return this.callInternal("pwCloseLive"),this},this.cutInAd=function(a,b){return this.callInternal("pwCutInAd",a,b),this},this.cutOutAd=function(){return this.callInternal("pwCutOutAd"),this},this.loadInstream=function(b,c){return m=new a.api.instream(this,j,b,c)},this.onBufferChange=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_BUFFER,b)},this.onBufferFull=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_BUFFER_FULL,b)},this.onError=function(b){return this.eventListener(a.api.events.POWERPLAYER_ERROR,b)},this.onFullscreen=function(b){return this.eventListener(a.api.events.POWERPLAYER_FULLSCREEN,b)},this.onMeta=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_META,b)},this.onMute=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_MUTE,b)},this.onPlaylist=function(b){return this.eventListener(a.api.events.POWERPLAYER_PLAYLIST_LOADED,b)},this.onPlaylistItem=function(b){return this.eventListener(a.api.events.POWERPLAYER_PLAYLIST_ITEM,b)},this.onReady=function(b){return this.eventListener(a.api.events.API_READY,b)},this.onResize=function(b){return this.eventListener(a.api.events.POWERPLAYER_RESIZE,b)},this.onComplete=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_COMPLETE,b)},this.onSeek=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_SEEK,b)},this.onTime=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_TIME,b)},this.onVolume=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_VOLUME,b)},this.onBeforePlay=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_BEFOREPLAY,b)},this.onBeforeComplete=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_BEFORECOMPLETE,b)},this.onBuffer=function(b){return this.stateListener(a.api.events.state.BUFFERING,b)},this.onPause=function(b){return this.stateListener(a.api.events.state.PAUSED,b)},this.onPlay=function(b){return this.stateListener(a.api.events.state.PLAYING,b)},this.onIdle=function(b){return this.stateListener(a.api.events.state.IDLE,b)},this.onPreviewComplete=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_PREVIEWCOMPLETE,b)},this.onSkipAD=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_SKIPAD,b)},this.remove=function(){if(!k)throw"Cannot call remove() before player is ready";d(this)},this.setup=function(b){if(a.embed){var c=this.id;d(this);var e=a(c);return e.config=b,new a.embed(e)}return this},this.registerPlugin=function(b,c,d){a.plugins.registerPlugin(b,c,d)},this.setPlayer=function(a,b){j=a,this.renderingMode=b},this.stateListener=function(b,c){return h[b]||(h[b]=[],this.eventListener(a.api.events.POWERPLAYER_PLAYER_STATE,e(b))),h[b].push(c),this},this.detachMedia=function(){if("html5"==this.renderingMode)return this.callInternal("pwDetachMedia")},this.attachMedia=function(){if("html5"==this.renderingMode)return this.callInternal("pwAttachMedia")},this.componentListener=function(a,b,c){return i[a]||(i[a]={}),i[a][b]||(i[a][b]=[],this.eventListener(b,f(a,b))),i[a][b].push(c),this},this.addInternalListener=function(b,c){try{b.pwAddEventListener(c,'function(dat) { powerplayer("'+this.id+'").dispatchEvent("'+c+'", dat); }')}catch(d){a.utils.log("Could not add internal listener")}},this.eventListener=function(a,b){return g[a]||(g[a]=[],j&&k&&this.addInternalListener(j,a)),g[a].push(b),this},this.dispatchEvent=function(b){if(g[b])for(var c=a.utils.translateEventResponse(b,arguments[1]),d=0;d<g[b].length;d++)"function"==typeof g[b][d]&&g[b][d].call(this,c)},this.dispatchInstreamEvent=function(a){m&&m.dispatchEvent(a,arguments)},this.callInternal=function(){if(k){for(var a=arguments[0],b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);return"undefined"!=typeof j&&"function"==typeof j[a]?2==b.length?j[a](b[0],b[1]):1==b.length?j[a](b[0]):j[a]():null}l.push(arguments)},this.playerReady=function(b){k=!0,j||this.setPlayer(document.getElementById(b.id)),this.container=document.getElementById(this.id);for(var c in g)this.addInternalListener(j,c);for(this.eventListener(a.api.events.POWERPLAYER_PLAYLIST_ITEM,function(a){o={}}),this.eventListener(a.api.events.POWERPLAYER_MEDIA_META,function(b){a.utils.extend(o,b.metadata)}),this.dispatchEvent(a.api.events.API_READY);l.length>0;)this.callInternal.apply(this,l.shift());this.initWindow()},this.getItemMeta=function(){return o},this.getCurrentItem=function(){return this.callInternal("pwGetPlaylistIndex")},this.initWindow=function(){if("html5"==this.renderingMode){var a=this.container.getElementsByTagName("video")[0];a&&(this.videoId=a.id)}else"flash"==this.renderingMode&&this.container&&(this.flashCSS=this.container.style.cssText)},this.checkSmallWindow=function(){if("html5"==this.renderingMode){if(j&&k){var a=this.container.getElementsByTagName("video")[0];if(a&&this.videoId!==a.id){this.remove();var b=document.getElementById(this.id);if(b){var c='<div style="width: 100%;height:100%; margin-bottom:19px; margin-top:-19px; background-color: black;"><div style="width: 100%;height:30%;"></div><table width="100%" border="0" bgcolor="black"><tr><td width="15%" rowspan="3" align="right" bgcolor="black"></td><td width="55%" align="left" style="font-size:18px;color:red;line-height:18px;">视频禁止在小窗口播放，请刷新页面重新播放</td><td width="15%" rowspan="3" align="right" bgcolor="black"></td></tr></table></div>';b.innerHTML=c}}}}else if("flash"==this.renderingMode&&j&&k&&this.flashCSS!==this.container.style.cssText&&this.container.style.cssText.indexOf("!important")>0){this.remove();var b=document.getElementById(this.id);if(b){var c='<div style="width: 100%;height:100%; margin-bottom:19px; margin-top:-19px; background-color: black;"><div style="width: 100%;height:30%;"></div><table width="100%" border="0" bgcolor="black"><tr><td width="15%" rowspan="3" align="right" bgcolor="black"></td><td width="55%" align="left" style="font-size:18px;color:red;line-height:18px;">视频禁止在小窗口播放，请刷新页面重新播放</td><td width="15%" rowspan="3" align="right" bgcolor="black"></td></tr></table></div>';b.innerHTML=c}}},this},a.api.selectPlayer=function(b){var c;if(a.utils.exists(b)||(b=0),b.nodeType?c=b:"string"==typeof b&&(c=document.getElementById(b)),c){var d=a.api.playerById(c.id);return d?d:a.api.addPlayer(new a.api(c))}return"number"==typeof b?a.getPlayers()[b]:null},a.api.events={API_READY:"powerplayerAPIReady",POWERPLAYER_READY:"powerplayerReady",POWERPLAYER_FULLSCREEN:"powerplayerFullscreen",POWERPLAYER_RESIZE:"powerplayerResize",POWERPLAYER_ERROR:"powerplayerError",POWERPLAYER_MEDIA_BEFOREPLAY:"powerplayerMediaBeforePlay",POWERPLAYER_MEDIA_BEFORECOMPLETE:"powerplayerMediaBeforeComplete",POWERPLAYER_COMPONENT_SHOW:"powerplayerComponentShow",POWERPLAYER_COMPONENT_HIDE:"powerplayerComponentHide",POWERPLAYER_MEDIA_BUFFER:"powerplayerMediaBuffer",POWERPLAYER_MEDIA_BUFFER_FULL:"powerplayerMediaBufferFull",POWERPLAYER_MEDIA_ERROR:"powerplayerMediaError",POWERPLAYER_MEDIA_LOADED:"powerplayerMediaLoaded",POWERPLAYER_MEDIA_COMPLETE:"powerplayerMediaComplete",POWERPLAYER_MEDIA_SEEK:"powerplayerMediaSeek",POWERPLAYER_MEDIA_TIME:"powerplayerMediaTime",POWERPLAYER_MEDIA_VOLUME:"powerplayerMediaVolume",POWERPLAYER_MEDIA_META:"powerplayerMediaMeta",POWERPLAYER_MEDIA_MUTE:"powerplayerMediaMute",POWERPLAYER_PLAYER_STATE:"powerplayerPlayerState",POWERPLAYER_PLAYLIST_LOADED:"powerplayerPlaylistLoaded",POWERPLAYER_PLAYLIST_ITEM:"powerplayerPlaylistItem",POWERPLAYER_INSTREAM_CLICK:"powerplayerInstreamClicked",POWERPLAYER_INSTREAM_DESTROYED:"powerplayerInstreamDestroyed",POWERPLAYER_MEDIA_PREVIEWCOMPLETE:"powerplayerMediaPreviewComplete",POWERPLAYER_MEDIA_SKIPAD:"powerplayerMediaSkipAD"},a.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},a.api.playerById=function(a){for(var c=0;c<b.length;c++)if(b[c].id==a)return b[c];return null},a.api.addPlayer=function(a){for(var c=0;c<b.length;c++)if(b[c]==a)return a;return b.push(a),a},a.api.destroyPlayer=function(c,d){for(var e=-1,f=0;f<b.length;f++)b[f].id!=c||(e=f);if(e>=0){try{b[e].callInternal("pwDestroy")}catch(g){}var h=document.getElementById(b[e].id);if(document.getElementById(b[e].id+"_wrapper")&&(h=document.getElementById(b[e].id+"_wrapper")),h)if(d)a.utils.setOuterHTML(h,d);else{var i=document.createElement("div"),j=h.id;h.id.indexOf("_wrapper")==h.id.length-8&&(newID=h.id.substring(0,h.id.length-8)),i.setAttribute("id",j),h.parentNode.replaceChild(i,h)}b.splice(e,1)}return null},a.getPlayers=function(){return b.slice(0)}}(powerplayer);var _userPlayerReady="function"==typeof playerReady?playerReady:void 0;playerReady=function(a){var b=powerplayer.api.playerById(a.id);b?b.playerReady(a):powerplayer.api.selectPlayer(a.id).playerReady(a),_userPlayerReady&&_userPlayerReady.call(this,a)},function(a){a.api.instream=function(b,c,d,e){function f(){k.callInternal("pwLoadInstream",d,e)}function g(a,b){l.pwInstreamAddEventListener(b,'function(dat) { powerplayer("'+k.id+'").dispatchInstreamEvent("'+b+'", dat); }')}function h(a,b){return m[a]||(m[a]=[],g(l,a)),m[a].push(b),this}function i(b,c){return n[b]||(n[b]=[],h(a.api.events.POWERPLAYER_PLAYER_STATE,j(b))),n[b].push(c),this}function j(a){return function(b){var c=b.newstate,d=b.oldstate;if(c==a){var e=n[c];if(e)for(var f=0;f<e.length;f++)"function"==typeof e[f]&&e[f].call(this,{oldstate:d,newstate:c,type:b.type})}}}var k=b,l=c,m={},n={};this.dispatchEvent=function(a,b){if(m[a])for(var c=_utils.translateEventResponse(a,b[1]),d=0;d<m[a].length;d++)"function"==typeof m[a][d]&&m[a][d].call(this,c)},this.onError=function(b){return h(a.api.events.POWERPLAYER_ERROR,b)},this.onFullscreen=function(b){return h(a.api.events.POWERPLAYER_FULLSCREEN,b)},this.onMeta=function(b){return h(a.api.events.POWERPLAYER_MEDIA_META,b)},this.onMute=function(b){return h(a.api.events.POWERPLAYER_MEDIA_MUTE,b)},this.onComplete=function(b){return h(a.api.events.POWERPLAYER_MEDIA_COMPLETE,b)},this.onSeek=function(b){return h(a.api.events.POWERPLAYER_MEDIA_SEEK,b)},this.onTime=function(b){return h(a.api.events.POWERPLAYER_MEDIA_TIME,b)},this.onVolume=function(b){return h(a.api.events.POWERPLAYER_MEDIA_VOLUME,b)},this.onBuffer=function(b){return i(a.api.events.state.BUFFERING,b)},this.onPause=function(b){return i(a.api.events.state.PAUSED,b)},this.onPlay=function(b){return i(a.api.events.state.PLAYING,b)},this.onIdle=function(b){return i(a.api.events.state.IDLE,b)},this.onPreviewComplete=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_PREVIEWCOMPLETE,b)},this.onSkipAD=function(b){return this.eventListener(a.api.events.POWERPLAYER_MEDIA_SKIPAD,b)},this.onInstreamClick=function(b){return h(a.api.events.POWERPLAYER_INSTREAM_CLICK,b)},this.onInstreamDestroyed=function(b){return h(a.api.events.POWERPLAYER_INSTREAM_DESTROYED,b)},this.play=function(a){l.pwInstreamPlay(a)},this.pause=function(a){l.pwInstreamPause(a)},this.seek=function(a){l.pwInstreamSeek(a)},this.destroy=function(){l.pwInstreamDestroy()},this.getState=function(){return l.pwInstreamGetState()},this.getDuration=function(){return l.pwInstreamGetDuration()},this.getPosition=function(){return l.pwInstreamGetPosition()},f()}}(powerplayer)}